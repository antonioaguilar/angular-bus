!function(t){function n(e){if(i[e])return i[e].exports;var r=i[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}var i={};n.m=t,n.c=i,n.i=function(t){return t},n.d=function(t,i,e){n.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:e})},n.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(i,"a",i),i},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=1)}([function(t,n,i){"use strict";function e(t){t.subscriberCount=t.subscriberCount?t.subscriberCount+1:1}function r(t){--t.subscriberCount||delete m[t._source._channelName].topics[t._binding]}function u(t){var n=void 0,i="^"+t.split(".").map(function(t){var i="";return n&&(i="#"!==n?"\\.\\b":"\\b"),i+="#"===t?"[\\s\\S]*":"*"===t?"[^.]+":t,n=t,i}).join("")+"$";return new RegExp(i)}function s(t){if(t.indexOf("#")===-1&&t.indexOf("*")===-1)return function(n){return n.topic===t};var n=u(t);return function(t){return n.test(t.topic)}}function o(t){return m[t]||(m[t]={stream:v.filter(function(n){return n.channel===t}),topics:{}},m[t].stream._channelName=t),m[t]}function a(t,n){var i=o(t),e=s(n),r=i.topics[n]||(i.topics[n]=i.stream.filter(function(t){return e(t)}));return r._binding=n,r}function h(t){t.timestamp=(new Date).toISOString(),p&&p.emit(t)}function l(t){return new y(a(t.channel,t.topic),t.callback)}function f(t){var n=v.observe({value:function(n){t(n.data,n)}});return function(){n.unsubscribe()}}function c(){m={},p&&p.end(),p=null,v=d.stream(function(t){return p=t,function(){p=null}})}function _(t,n,i,u){function s(){_.unsubscribe(),o.forEach(function(t){r(t)}),o=[]}var o=[],h=u||{};t.forEach(function(t){var n=a(t.channel,t.topic);e(n),o.push(n)});var l=d.zip(o),f=h.once?l.take(1):l,c=f.map(function(t){return t.map(function(t){return t.data})}),_=c.observe({value:function(t){n.apply(this,t)},error:i,end:s});return s}var d=i(2),v=void 0,p=void 0,m=void 0,y=function(t,n,i){this.stream=t,this.onUnsubscribe=null,this.subscription=t.observe({value:function(t){n(t.data,t)},error:i}),e(t)};y.prototype.unsubscribe=function(){"function"==typeof this.onUnsubscribe&&this.onUnsubscribe(),this.subscription.unsubscribe(),r(this.stream)},c(),t.exports={publish:h,subscribe:l,addWireTap:f,reset:c,when:_}},function(t,n,i){"use strict";!function(){var t=i(0);angular.module("ngBus",[]).config(["$provide",function(n){n.decorator("$rootScope",["$delegate",function(n){return Object.defineProperty(n.constructor.prototype,"$event",{get:function(){var n=this;return{when:t.when.bind(t),publish:t.publish.bind(t),subscribe:function(){var i=t.subscribe.apply(t,arguments);return i.onUnsubscribe=n.$on("$destroy",function(){i.unsubscribe()}),i},addWireTap:t.addWireTap.bind(t),reset:t.reset}},enumerable:!1}),n}])}])}()},function(t,n,i){(function(t){/*! Kefir.js v3.7.1
 *  https://github.com/rpominov/kefir
 */
!function(t,i){i(n)}(0,function(n){"use strict";function i(t){var n=function(){};return n.prototype=t,new n}function e(t){var n=arguments.length,i=void 0,e=void 0;for(i=1;i<n;i++)for(e in arguments[i])t[e]=arguments[i][e];return t}function r(t,n){var r=arguments.length,u=void 0;for(t.prototype=i(n.prototype),t.prototype.constructor=t,u=2;u<r;u++)e(t.prototype,arguments[u]);return t}function u(t,n){var i=void 0,e=void 0,r=void 0,u=void 0;if(0===t.length)return n;if(0===n.length)return t;for(u=0,i=new Array(t.length+n.length),e=t.length,r=0;r<e;r++,u++)i[u]=t[r];for(e=n.length,r=0;r<e;r++,u++)i[u]=n[r];return i}function s(t,n){var i=t.length,e=void 0;for(e=0;e<i;e++)if(t[e]===n)return e;return-1}function o(t,n){var i=t.length,e=void 0;for(e=0;e<i;e++)if(n(t[e]))return e;return-1}function a(t){var n=t.length,i=new Array(n),e=void 0;for(e=0;e<n;e++)i[e]=t[e];return i}function h(t,n){var i=t.length,e=void 0,r=void 0,u=void 0;if(n>=0&&n<i){if(1===i)return[];for(e=new Array(i-1),r=0,u=0;r<i;r++)r!==n&&(e[u]=t[r],u++);return e}return t}function l(t,n){var i=t.length,e=new Array(i),r=void 0;for(r=0;r<i;r++)e[r]=n(t[r]);return e}function f(t,n){var i=t.length,e=void 0;for(e=0;e<i;e++)n(t[e])}function c(t,n){var i=t.length,e=void 0;for(e=0;e<i;e++)t[e]=n}function _(t,n){return s(t,n)!==-1}function d(t,n,i){var e=Math.min(i,t.length+1),r=t.length-e+1,u=new Array(e),s=void 0;for(s=r;s<e;s++)u[s-r]=t[s];return u[e-1]=n,u}function v(t,n,i){t===cn?n(i):t===i.type&&(t===ln||t===fn?n(i.value):n())}function p(){this._items=[],this._spies=[],this._inLoop=0,this._removedItems=null}function m(){this._dispatcher=new p,this._active=!1,this._alive=!0,this._activating=!1,this._logHandlers=null,this._spyHandlers=null}function y(){m.call(this)}function b(){m.call(this),this._currentEvent=null}function g(){return _n}function E(t){function n(t,n){var i=this;y.call(this),this._wait=t,this._intervalId=null,this._$onTick=function(){return i._onTick()},this._init(n)}return r(n,y,{_init:function(){},_free:function(){},_onTick:function(){},_onActivation:function(){this._intervalId=setInterval(this._$onTick,this._wait)},_onDeactivation:function(){null!==this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null)},_clear:function(){y.prototype._clear.call(this),this._$onTick=null,this._free()}},t),n}function w(t,n){return new dn(t,{x:n})}function A(t,n){return new vn(t,{x:n})}function S(t,n){return 0===n.length?g():new pn(t,{xs:n})}function V(t,n){return new mn(t,{fn:n})}function T(t){function n(n){return t._emitValue(n),t._active}function i(n){return t._emitError(n),t._active}function e(){return t._emitEnd(),t._active}function r(n){return t._emit(n.type,n.value),t._active}return{value:n,error:i,end:e,event:r,emit:n,emitEvent:r}}function $(t,n){return new yn(t,{fn:n})}function C(t){y.call(this),this._fn=t,this._unsubscribe=null}function O(t){return new C(t)}function x(t){var n=!1;return O(function(i){n||(t(function(t){i.emit(t),i.end()}),n=!0)}).setName("fromCallback")}function k(t){var n=!1;return O(function(i){n||(t(function(t,n){t?i.error(t):i.emit(n),i.end()}),n=!0)}).setName("fromNodeCallback")}function I(t,n){switch(n){case 0:return function(){return t()};case 1:return function(n){return t(n[0])};case 2:return function(n){return t(n[0],n[1])};case 3:return function(n){return t(n[0],n[1],n[2])};case 4:return function(n){return t(n[0],n[1],n[2],n[3])};default:return function(n){return t.apply(null,n)}}}function L(t,n,i){var e=i?i.length:0;if(null==n)switch(e){case 0:return t();case 1:return t(i[0]);case 2:return t(i[0],i[1]);case 3:return t(i[0],i[1],i[2]);case 4:return t(i[0],i[1],i[2],i[3]);default:return t.apply(null,i)}else switch(e){case 0:return t.call(n);default:return t.apply(n,i)}}function P(t,n,i){return O(function(e){var r=i?function(){e.emit(L(i,this,arguments))}:function(t){e.emit(t)};return t(r),function(){return n(r)}}).setName("fromSubUnsub")}function M(t,n,i){for(var e=void 0,r=void 0,u=0;u<bn.length;u++)if("function"==typeof t[bn[u][0]]&&"function"==typeof t[bn[u][1]]){e=bn[u][0],r=bn[u][1];break}if(void 0===e)throw new Error("target don't support any of addEventListener/removeEventListener, addListener/removeListener, on/off method pair");return P(function(i){return t[e](n,i)},function(i){return t[r](n,i)},i).setName("fromEvents")}function H(t){this._currentEvent={type:"value",value:t,current:!0}}function D(t){return new H(t)}function N(t){this._currentEvent={type:"error",value:t,current:!0}}function W(t){return new N(t)}function q(t,n){return function(i,e){var r=this;t.call(this),this._source=i,this._name=i._name+"."+n,this._init(e),this._$handleAny=function(t){return r._handleAny(t)}}}function B(t){return{_init:function(){},_free:function(){},_handleValue:function(t){this._emitValue(t)},_handleError:function(t){this._emitError(t)},_handleEnd:function(){this._emitEnd()},_handleAny:function(t){switch(t.type){case ln:return this._handleValue(t.value);case fn:return this._handleError(t.value);case hn:return this._handleEnd()}},_onActivation:function(){this._source.onAny(this._$handleAny)},_onDeactivation:function(){this._source.offAny(this._$handleAny)},_clear:function(){t.prototype._clear.call(this),this._source=null,this._$handleAny=null,this._free()}}}function j(t,n){var i=q(y,t);return r(i,y,B(y),n),i}function U(t,n){var i=q(b,t);return r(i,b,B(b),n),i}function F(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!==n&&"function"!=typeof n)throw new Error("You should call toProperty() with a function or no arguments.");return new gn(t,{fn:n})}function z(t){return new En(t)}function Q(t){var n=!1;return F(O(function(i){if(!n){var e=function(t){i.emit(t),i.end()},r=function(t){i.error(t),i.end()},u=t.then(e,r);u&&"function"==typeof u.done&&u.done(),n=!0}}),null).setName("fromPromise")}function Y(){if("function"==typeof Promise)return Promise;throw new Error("There isn't default Promise, use shim or parameter")}function K(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Y(),i=null;return new n(function(n,e){t.onAny(function(t){t.type===hn&&null!==i?((i.type===ln?n:e)(i.value),i=null):i=t})})}function R(t,n){return n={exports:{}},t(n,n.exports),n.exports}function G(t){var n=t[Cn]?t[Cn]():t;return O(function(t){var i=n.subscribe({error:function(n){t.error(n),t.end()},next:function(n){t.emit(n)},complete:function(){t.end()}});return i.unsubscribe?function(){i.unsubscribe()}:i}).setName("fromESObservable")}function J(t){this._observable=t.takeErrors(1)}function X(){return new J(this)}function Z(t,n,i){for(var e in t)t.hasOwnProperty(e)&&(n.push(e),i.push(t[e]))}function tt(t){for(var n=void 0,i=0;i<t.length;i++)void 0!==t[i]&&(void 0===n||n.index<t[i].index)&&(n=t[i]);return n.error}function nt(t,n,i){var e=this;y.call(this),this._activeCount=t.length,this._sources=u(t,n),this._combinator=i,this._aliveCount=0,this._latestValues=new Array(this._sources.length),this._latestErrors=new Array(this._sources.length),c(this._latestValues,an),this._emitAfterActivation=!1,this._endAfterActivation=!1,this._latestErrorIndex=0,this._$handlers=[];for(var r=0;r<this._sources.length;r++)!function(t){e._$handlers.push(function(n){return e._handleAny(t,n)})}(r)}function it(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments[2];if(!Array.isArray(n))throw new Error("Combine can only combine active and passive collections of the same type.");return i=i?I(i,t.length+n.length):function(t){return t},0===t.length?g():new nt(t,n,i)}function et(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments[2];if("object"!=typeof n||Array.isArray(n))throw new Error("Combine can only combine active and passive collections of the same type.");var e=[],r=[],u=[];Z(t,e,r),Z(n,e,u);var s=function(t){for(var n={},r=t.length-1;0<=r;r--)n[e[r]]=t[r];return i?i(n):n};return 0===r.length?g():new nt(r,u,s)}function rt(t,n,i){return"function"==typeof n&&(i=n,n=void 0),Array.isArray(t)?it(t,n,i):et(t,n,i)}function ut(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pn;return new(t._ofSameType(In,Ln))(t,{fn:n})}function st(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nn;return new(t._ofSameType(Hn,Dn))(t,{fn:n})}function ot(t,n){return new(t._ofSameType(qn,Bn))(t,{n:n})}function at(t,n){return new(t._ofSameType(Un,Fn))(t,{n:n})}function ht(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kn;return new(t._ofSameType(Qn,Yn))(t,{fn:n})}function lt(t){return new(t._ofSameType(Gn,Jn))(t)}function ft(t,n){return new(t._ofSameType(Zn,ti))(t,{n:n})}function ct(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ri;return new(t._ofSameType(ii,ei))(t,{fn:n})}function _t(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ai;return new(t._ofSameType(si,oi))(t,{fn:n})}function dt(t,n){return[t,n]}function vt(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:an;return new(t._ofSameType(li,fi))(t,{fn:n||dt,seed:i})}function pt(t,n){return new ci(t,{fn:n,seed:arguments.length>2&&void 0!==arguments[2]?arguments[2]:an})}function mt(t){return new di(t,{fn:arguments.length>1&&void 0!==arguments[1]?arguments[1]:vi})}function yt(t,n){return new(t._ofSameType(yi,bi))(t,{wait:n})}function bt(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},e=i.leading,r=void 0===e||e,u=i.trailing,s=void 0===u||u;return new(t._ofSameType(wi,Ai))(t,{wait:n,leading:r,trailing:s})}function gt(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},e=i.immediate,r=void 0!==e&&e;return new(t._ofSameType(Vi,Ti))(t,{wait:n,immediate:r})}function Et(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xi;return new(t._ofSameType(Ci,Oi))(t,{fn:n})}function wt(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pi;return new(t._ofSameType(Ii,Li))(t,{fn:n})}function At(t){return new(t._ofSameType(Hi,Di))(t)}function St(t){return new(t._ofSameType(Wi,qi))(t)}function Vt(t){return new(t._ofSameType(ji,Ui))(t)}function Tt(t,n){return new(t._ofSameType(zi,Qi))(t,{fn:n})}function $t(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new(t._ofSameType(Ki,Ri))(t,{min:i,max:n})}function Ct(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},e=i.flushOnEnd,r=void 0===e||e;return new(t._ofSameType(Ji,Xi))(t,{fn:n||Zi,flushOnEnd:r})}function Ot(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},e=i.flushOnEnd,r=void 0===e||e;return new(t._ofSameType(ne,ie))(t,{count:n,flushOnEnd:r})}function xt(t,n,i){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=e.flushOnEnd,u=void 0===r||r;return new(t._ofSameType(re,ue))(t,{wait:n,count:i,flushOnEnd:u})}function kt(t){return{"@@transducer/step":function(n,i){return t._emitValue(i),null},"@@transducer/result":function(){return t._emitEnd(),null}}}function It(t,n){return new(t._ofSameType(oe,ae))(t,{transducer:n})}function Lt(t,n){return new(t._ofSameType(le,fe))(t,{fn:n})}function Pt(t,n){var i=this;y.call(this),this._buffers=l(t,function(t){return ce(t)?a(t):[]}),this._sources=l(t,function(t){return ce(t)?g():t}),this._combinator=n?I(n,this._sources.length):function(t){return t},this._aliveCount=0,this._$handlers=[];for(var e=0;e<this._sources.length;e++)!function(t){i._$handlers.push(function(n){return i._handleAny(t,n)})}(e)}function Mt(t,n){return 0===t.length?g():new Pt(t,n)}function Ht(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.queueLim,e=void 0===i?0:i,r=n.concurLim,u=void 0===r?-1:r,s=n.drop,o=void 0===s?"new":s;y.call(this),this._queueLim=e<0?-1:e,this._concurLim=u<0?-1:u,this._drop=o,this._queue=[],this._curSources=[],this._$handleSubAny=function(n){return t._handleSubAny(n)},this._$endHandlers=[],this._currentlyAdding=null,0===this._concurLim&&this._emitEnd()}function Dt(t){Ht.call(this),this._addAll(t),this._initialised=!0}function Nt(t){return 0===t.length?g():new Dt(t)}function Wt(t){var n=this;y.call(this),this._generator=t,this._source=null,this._inLoop=!1,this._iteration=0,this._$handleAny=function(t){return n._handleAny(t)}}function qt(t){return new Wt(t)}function Bt(t){return qt(function(n){return t.length>n&&t[n]}).setName("concat")}function jt(){Ht.call(this)}function Ut(t,n,i){var e=this;Ht.call(this,i),this._source=t,this._fn=n,this._mainEnded=!1,this._lastCurrent=null,this._$handleMain=function(t){return e._handleMain(t)}}function Ft(t,n){Ut.call(this,t,n)}function zt(t,n){return function(i,e,r){var u=this;t.call(this),this._primary=i,this._secondary=e,this._name=i._name+"."+n,this._lastSecondary=an,this._$handleSecondaryAny=function(t){return u._handleSecondaryAny(t)},this._$handlePrimaryAny=function(t){return u._handlePrimaryAny(t)},this._init(r)}}function Qt(t){return{_init:function(){},_free:function(){},_handlePrimaryValue:function(t){this._emitValue(t)},_handlePrimaryError:function(t){this._emitError(t)},_handlePrimaryEnd:function(){this._emitEnd()},_handleSecondaryValue:function(t){this._lastSecondary=t},_handleSecondaryError:function(t){this._emitError(t)},_handleSecondaryEnd:function(){},_handlePrimaryAny:function(t){switch(t.type){case ln:return this._handlePrimaryValue(t.value);case fn:return this._handlePrimaryError(t.value);case hn:return this._handlePrimaryEnd(t.value)}},_handleSecondaryAny:function(t){switch(t.type){case ln:return this._handleSecondaryValue(t.value);case fn:return this._handleSecondaryError(t.value);case hn:this._handleSecondaryEnd(t.value),this._removeSecondary()}},_removeSecondary:function(){null!==this._secondary&&(this._secondary.offAny(this._$handleSecondaryAny),this._$handleSecondaryAny=null,this._secondary=null)},_onActivation:function(){null!==this._secondary&&this._secondary.onAny(this._$handleSecondaryAny),this._active&&this._primary.onAny(this._$handlePrimaryAny)},_onDeactivation:function(){null!==this._secondary&&this._secondary.offAny(this._$handleSecondaryAny),this._primary.offAny(this._$handlePrimaryAny)},_clear:function(){t.prototype._clear.call(this),this._primary=null,this._secondary=null,this._lastSecondary=null,this._$handleSecondaryAny=null,this._$handlePrimaryAny=null,this._free()}}}function Yt(t,n){var i=zt(y,t);return r(i,y,Qt(y),n),i}function Kt(t,n){var i=zt(b,t);return r(i,b,Qt(b),n),i}function Rt(t,n){return new(t._ofSameType(ve,pe))(t,n)}function Gt(t,n,i){return rt([n],[t],i?function(t,n){return i(n,t)}:me).setName(t,"sampledBy")}function Jt(t,n){return new(t._ofSameType(be,ge))(t,n)}function Xt(t,n){return new(t._ofSameType(we,Ae))(t,n)}function Zt(t,n,i){return new(t._ofSameType(Ve,Te))(t,n,i)}function tn(t,n,i){return new(t._ofSameType(Ce,Oe))(t,n,i)}function nn(t,n){var i=Nt([ut(t,ke),ut(n,xe)]);return i=_t(i),i=F(i,xe),i.setName(t,"awaiting")}function en(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Me;return new(t._ofSameType(Le,Pe))(t,{fn:n})}function rn(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:We;return new(t._ofSameType(De,Ne))(t,{fn:n})}function un(t){return new(t._ofSameType(Be,je))(t)}function sn(){Fe=!1}function on(t){if(Fe&&console&&"function"==typeof console.warn){console.warn(t,"\nHere is an Error object for you containing the call stack:",new Error)}}var an=["<nothing>"],hn="end",ln="value",fn="error",cn="any";e(p.prototype,{add:function(t,n){return this._items=u(this._items,[{type:t,fn:n}]),this._items.length},remove:function(t,n){var i=o(this._items,function(i){return i.type===t&&i.fn===n});return 0!==this._inLoop&&i!==-1&&(null===this._removedItems&&(this._removedItems=[]),this._removedItems.push(this._items[i])),this._items=h(this._items,i),this._items.length},addSpy:function(t){return this._spies=u(this._spies,[t]),this._spies.length},removeSpy:function(t){return this._spies=h(this._spies,this._spies.indexOf(t)),this._spies.length},dispatch:function(t){this._inLoop++;for(var n=0,i=this._spies;null!==this._spies&&n<i.length;n++)i[n](t);for(var e=0,r=this._items;e<r.length&&null!==this._items;e++)null!==this._removedItems&&_(this._removedItems,r[e])||v(r[e].type,r[e].fn,t);0===--this._inLoop&&(this._removedItems=null)},cleanup:function(){this._items=null,this._spies=null}}),e(m.prototype,{_name:"observable",_onActivation:function(){},_onDeactivation:function(){},_setActive:function(t){this._active!==t&&(this._active=t,t?(this._activating=!0,this._onActivation(),this._activating=!1):this._onDeactivation())},_clear:function(){this._setActive(!1),this._dispatcher.cleanup(),this._dispatcher=null,this._logHandlers=null},_emit:function(t,n){switch(t){case ln:return this._emitValue(n);case fn:return this._emitError(n);case hn:return this._emitEnd()}},_emitValue:function(t){this._alive&&this._dispatcher.dispatch({type:ln,value:t})},_emitError:function(t){this._alive&&this._dispatcher.dispatch({type:fn,value:t})},_emitEnd:function(){this._alive&&(this._alive=!1,this._dispatcher.dispatch({type:hn}),this._clear())},_on:function(t,n){return this._alive?(this._dispatcher.add(t,n),this._setActive(!0)):v(t,n,{type:hn}),this},_off:function(t,n){if(this._alive){0===this._dispatcher.remove(t,n)&&this._setActive(!1)}return this},onValue:function(t){return this._on(ln,t)},onError:function(t){return this._on(fn,t)},onEnd:function(t){return this._on(hn,t)},onAny:function(t){return this._on(cn,t)},offValue:function(t){return this._off(ln,t)},offError:function(t){return this._off(fn,t)},offEnd:function(t){return this._off(hn,t)},offAny:function(t){return this._off(cn,t)},observe:function(t,n,i){var e=this,r=!1,u=t&&"function"!=typeof t?t:{value:t,error:n,end:i},s=function(t){t.type===hn&&(r=!0),t.type===ln&&u.value?u.value(t.value):t.type===fn&&u.error?u.error(t.value):t.type===hn&&u.end&&u.end(t.value)};return this.onAny(s),{unsubscribe:function(){r||(e.offAny(s),r=!0)},get closed(){return r}}},_ofSameType:function(t,n){return t.prototype.getType()===this.getType()?t:n},setName:function(t,n){return this._name=n?t._name+"."+n:t,this},log:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.toString(),n=void 0,i=function(i){var e="<"+i.type+(n?":current":"")+">";i.type===hn?console.log(t,e):console.log(t,e,i.value)};return this._alive&&(this._logHandlers||(this._logHandlers=[]),this._logHandlers.push({name:t,handler:i})),n=!0,this.onAny(i),n=!1,this},offLog:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.toString();if(this._logHandlers){var n=o(this._logHandlers,function(n){return n.name===t});n!==-1&&(this.offAny(this._logHandlers[n].handler),this._logHandlers.splice(n,1))}return this},spy:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.toString(),n=function(n){var i="<"+n.type+">";n.type===hn?console.log(t,i):console.log(t,i,n.value)};return this._alive&&(this._spyHandlers||(this._spyHandlers=[]),this._spyHandlers.push({name:t,handler:n}),this._dispatcher.addSpy(n)),this},offSpy:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.toString();if(this._spyHandlers){var n=o(this._spyHandlers,function(n){return n.name===t});n!==-1&&(this._dispatcher.removeSpy(this._spyHandlers[n].handler),this._spyHandlers.splice(n,1))}return this}}),m.prototype.toString=function(){return"["+this._name+"]"},r(y,m,{_name:"stream",getType:function(){return"stream"}}),r(b,m,{_name:"property",_emitValue:function(t){this._alive&&(this._currentEvent={type:ln,value:t},this._activating||this._dispatcher.dispatch({type:ln,value:t}))},_emitError:function(t){this._alive&&(this._currentEvent={type:fn,value:t},this._activating||this._dispatcher.dispatch({type:fn,value:t}))},_emitEnd:function(){this._alive&&(this._alive=!1,this._activating||this._dispatcher.dispatch({type:hn}),this._clear())},_on:function(t,n){return this._alive&&(this._dispatcher.add(t,n),this._setActive(!0)),null!==this._currentEvent&&v(t,n,this._currentEvent),this._alive||v(t,n,{type:hn}),this},getType:function(){return"property"}});var _n=new y;_n._emitEnd(),_n._name="never";var dn=E({_name:"later",_init:function(t){var n=t.x;this._x=n},_free:function(){this._x=null},_onTick:function(){this._emitValue(this._x),this._emitEnd()}}),vn=E({_name:"interval",_init:function(t){var n=t.x;this._x=n},_free:function(){this._x=null},_onTick:function(){this._emitValue(this._x)}}),pn=E({_name:"sequentially",_init:function(t){var n=t.xs;this._xs=a(n)},_free:function(){this._xs=null},_onTick:function(){1===this._xs.length?(this._emitValue(this._xs[0]),this._emitEnd()):this._emitValue(this._xs.shift())}}),mn=E({_name:"fromPoll",_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_onTick:function(){var t=this._fn;this._emitValue(t())}}),yn=E({_name:"withInterval",_init:function(t){var n=t.fn;this._fn=n,this._emitter=T(this)},_free:function(){this._fn=null,this._emitter=null},_onTick:function(){(0,this._fn)(this._emitter)}});r(C,y,{_name:"stream",_onActivation:function(){var t=this._fn,n=t(T(this));this._unsubscribe="function"==typeof n?n:null,this._active||this._callUnsubscribe()},_callUnsubscribe:function(){null!==this._unsubscribe&&(this._unsubscribe(),this._unsubscribe=null)},_onDeactivation:function(){this._callUnsubscribe()},_clear:function(){y.prototype._clear.call(this),this._fn=null}});var bn=[["addEventListener","removeEventListener"],["addListener","removeListener"],["on","off"]];r(H,b,{_name:"constant",_active:!1,_activating:!1,_alive:!1,_dispatcher:null,_logHandlers:null}),r(N,b,{_name:"constantError",_active:!1,_activating:!1,_alive:!1,_dispatcher:null,_logHandlers:null});var gn=U("toProperty",{_init:function(t){var n=t.fn;this._getInitialCurrent=n},_onActivation:function(){if(null!==this._getInitialCurrent){var t=this._getInitialCurrent;this._emitValue(t())}this._source.onAny(this._$handleAny)}}),En=j("changes",{_handleValue:function(t){this._activating||this._emitValue(t)},_handleError:function(t){this._activating||this._emitError(t)}}),wn="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},An=R(function(t,n){function i(t){var n,i=t.Symbol;return"function"==typeof i?i.observable?n=i.observable:(n=i("observable"),i.observable=n):n="@@observable",n}Object.defineProperty(n,"__esModule",{value:!0}),n.default=i}),Sn=An&&"object"==typeof An&&"default"in An?An.default:An,Vn=R(function(t,n){Object.defineProperty(n,"__esModule",{value:!0});var i,e=Sn,r=function(t){return t&&t.__esModule?t:{default:t}}(e);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==wn?wn:void 0!==t?t:Function("return this")();var u=(0,r.default)(i);n.default=u}),Tn=Vn&&"object"==typeof Vn&&"default"in Vn?Vn.default:Vn,$n=R(function(t){t.exports=Tn}),Cn=$n&&"object"==typeof $n&&"default"in $n?$n.default:$n;e(J.prototype,{subscribe:function(t,n,i){var e=this,r="function"==typeof t?{next:t,error:n,complete:i}:t,u=function(t){t.type===hn&&(s=!0),t.type===ln&&r.next?r.next(t.value):t.type===fn&&r.error?r.error(t.value):t.type===hn&&r.complete&&r.complete(t.value)};this._observable.onAny(u);var s=!1;return{unsubscribe:function(){s=!0,e._observable.offAny(u)},get closed(){return s}}}}),J.prototype[Cn]=function(){return this},r(nt,y,{_name:"combine",_onActivation:function(){this._aliveCount=this._activeCount;for(var t=this._activeCount;t<this._sources.length;t++)this._sources[t].onAny(this._$handlers[t]);for(var n=0;n<this._activeCount;n++)this._sources[n].onAny(this._$handlers[n]);this._emitAfterActivation&&(this._emitAfterActivation=!1,this._emitIfFull()),this._endAfterActivation&&this._emitEnd()},_onDeactivation:function(){var t=this._sources.length,n=void 0;for(n=0;n<t;n++)this._sources[n].offAny(this._$handlers[n])},_emitIfFull:function(){for(var t=!0,n=!1,i=this._latestValues.length,e=new Array(i),r=new Array(i),u=0;u<i;u++)e[u]=this._latestValues[u],r[u]=this._latestErrors[u],e[u]===an&&(t=!1),void 0!==r[u]&&(n=!0);if(t){var s=this._combinator;this._emitValue(s(e))}n&&this._emitError(tt(r))},_handleAny:function(t,n){n.type===ln||n.type===fn?(n.type===ln&&(this._latestValues[t]=n.value,this._latestErrors[t]=void 0),n.type===fn&&(this._latestValues[t]=an,this._latestErrors[t]={index:this._latestErrorIndex++,error:n.value}),t<this._activeCount&&(this._activating?this._emitAfterActivation=!0:this._emitIfFull())):t<this._activeCount&&0===--this._aliveCount&&(this._activating?this._endAfterActivation=!0:this._emitEnd())},_clear:function(){y.prototype._clear.call(this),this._sources=null,this._latestValues=null,this._latestErrors=null,this._combinator=null,this._$handlers=null}});var On={empty:function(){return g()},concat:function(t,n){return t.merge(n)},of:function(t){return D(t)},map:function(t,n){return n.map(t)},bimap:function(t,n,i){return i.mapErrors(t).map(n)},ap:function(t,n){return rt([t,n],function(t,n){return t(n)})},chain:function(t,n){return n.flatMap(t)}},xn=Object.freeze({Observable:On}),kn={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleValue:function(t){var n=this._fn;this._emitValue(n(t))}},In=j("map",kn),Ln=U("map",kn),Pn=function(t){return t},Mn={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleValue:function(t){(0,this._fn)(t)&&this._emitValue(t)}},Hn=j("filter",Mn),Dn=U("filter",Mn),Nn=function(t){return t},Wn={_init:function(t){var n=t.n;this._n=n,n<=0&&this._emitEnd()},_handleValue:function(t){this._n--,this._emitValue(t),0===this._n&&this._emitEnd()}},qn=j("take",Wn),Bn=U("take",Wn),jn={_init:function(t){var n=t.n;this._n=n,n<=0&&this._emitEnd()},_handleError:function(t){this._n--,this._emitError(t),0===this._n&&this._emitEnd()}},Un=j("takeErrors",jn),Fn=U("takeErrors",jn),zn={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleValue:function(t){(0,this._fn)(t)?this._emitValue(t):this._emitEnd()}},Qn=j("takeWhile",zn),Yn=U("takeWhile",zn),Kn=function(t){return t},Rn={_init:function(){this._lastValue=an},_free:function(){this._lastValue=null},_handleValue:function(t){this._lastValue=t},_handleEnd:function(){this._lastValue!==an&&this._emitValue(this._lastValue),this._emitEnd()}},Gn=j("last",Rn),Jn=U("last",Rn),Xn={_init:function(t){var n=t.n;this._n=Math.max(0,n)},_handleValue:function(t){0===this._n?this._emitValue(t):this._n--}},Zn=j("skip",Xn),ti=U("skip",Xn),ni={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleValue:function(t){var n=this._fn;null===this._fn||n(t)||(this._fn=null),null===this._fn&&this._emitValue(t)}},ii=j("skipWhile",ni),ei=U("skipWhile",ni),ri=function(t){return t},ui={_init:function(t){var n=t.fn;this._fn=n,this._prev=an},_free:function(){this._fn=null,this._prev=null},_handleValue:function(t){var n=this._fn;this._prev!==an&&n(this._prev,t)||(this._prev=t,this._emitValue(t))}},si=j("skipDuplicates",ui),oi=U("skipDuplicates",ui),ai=function(t,n){return t===n},hi={_init:function(t){var n=t.fn,i=t.seed;this._fn=n,this._prev=i},_free:function(){this._prev=null,this._fn=null},_handleValue:function(t){if(this._prev!==an){var n=this._fn;this._emitValue(n(this._prev,t))}this._prev=t}},li=j("diff",hi),fi=U("diff",hi),ci=U("scan",{_init:function(t){var n=t.fn,i=t.seed;this._fn=n,this._seed=i,i!==an&&this._emitValue(i)},_free:function(){this._fn=null,this._seed=null},_handleValue:function(t){var n=this._fn;null===this._currentEvent||this._currentEvent.type===fn?this._emitValue(this._seed===an?t:n(this._seed,t)):this._emitValue(n(this._currentEvent.value,t))}}),_i={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleValue:function(t){for(var n=this._fn,i=n(t),e=0;e<i.length;e++)this._emitValue(i[e])}},di=j("flatten",_i),vi=function(t){return t},pi={},mi={_init:function(t){var n=this,i=t.wait;this._wait=Math.max(0,i),this._buff=[],this._$shiftBuff=function(){var t=n._buff.shift();t===pi?n._emitEnd():n._emitValue(t)}},_free:function(){this._buff=null,this._$shiftBuff=null},_handleValue:function(t){this._activating?this._emitValue(t):(this._buff.push(t),setTimeout(this._$shiftBuff,this._wait))},_handleEnd:function(){this._activating?this._emitEnd():(this._buff.push(pi),setTimeout(this._$shiftBuff,this._wait))}},yi=j("delay",mi),bi=U("delay",mi),gi=Date.now?function(){return Date.now()}:function(){return(new Date).getTime()},Ei={_init:function(t){var n=this,i=t.wait,e=t.leading,r=t.trailing;this._wait=Math.max(0,i),this._leading=e,this._trailing=r,this._trailingValue=null,this._timeoutId=null,this._endLater=!1,this._lastCallTime=0,this._$trailingCall=function(){return n._trailingCall()}},_free:function(){this._trailingValue=null,this._$trailingCall=null},_handleValue:function(t){if(this._activating)this._emitValue(t);else{var n=gi();0!==this._lastCallTime||this._leading||(this._lastCallTime=n);var i=this._wait-(n-this._lastCallTime);i<=0?(this._cancelTrailing(),this._lastCallTime=n,this._emitValue(t)):this._trailing&&(this._cancelTrailing(),this._trailingValue=t,this._timeoutId=setTimeout(this._$trailingCall,i))}},_handleEnd:function(){this._activating?this._emitEnd():this._timeoutId?this._endLater=!0:this._emitEnd()},_cancelTrailing:function(){null!==this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=null)},_trailingCall:function(){this._emitValue(this._trailingValue),this._timeoutId=null,this._trailingValue=null,this._lastCallTime=this._leading?gi():0,this._endLater&&this._emitEnd()}},wi=j("throttle",Ei),Ai=U("throttle",Ei),Si={_init:function(t){var n=this,i=t.wait,e=t.immediate;this._wait=Math.max(0,i),this._immediate=e,this._lastAttempt=0,this._timeoutId=null,this._laterValue=null,this._endLater=!1,this._$later=function(){return n._later()}},_free:function(){this._laterValue=null,this._$later=null},_handleValue:function(t){this._activating?this._emitValue(t):(this._lastAttempt=gi(),this._immediate&&!this._timeoutId&&this._emitValue(t),this._timeoutId||(this._timeoutId=setTimeout(this._$later,this._wait)),this._immediate||(this._laterValue=t))},_handleEnd:function(){this._activating?this._emitEnd():this._timeoutId&&!this._immediate?this._endLater=!0:this._emitEnd()},_later:function(){var t=gi()-this._lastAttempt;t<this._wait&&t>=0?this._timeoutId=setTimeout(this._$later,this._wait-t):(this._timeoutId=null,this._immediate||(this._emitValue(this._laterValue),this._laterValue=null),this._endLater&&this._emitEnd())}},Vi=j("debounce",Si),Ti=U("debounce",Si),$i={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleError:function(t){var n=this._fn;this._emitError(n(t))}},Ci=j("mapErrors",$i),Oi=U("mapErrors",$i),xi=function(t){return t},ki={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleError:function(t){(0,this._fn)(t)&&this._emitError(t)}},Ii=j("filterErrors",ki),Li=U("filterErrors",ki),Pi=function(t){return t},Mi={_handleValue:function(){}},Hi=j("ignoreValues",Mi),Di=U("ignoreValues",Mi),Ni={_handleError:function(){}},Wi=j("ignoreErrors",Ni),qi=U("ignoreErrors",Ni),Bi={_handleEnd:function(){}},ji=j("ignoreEnd",Bi),Ui=U("ignoreEnd",Bi),Fi={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleEnd:function(){var t=this._fn;this._emitValue(t()),this._emitEnd()}},zi=j("beforeEnd",Fi),Qi=U("beforeEnd",Fi),Yi={_init:function(t){var n=t.min,i=t.max;this._max=i,this._min=n,this._buff=[]},_free:function(){this._buff=null},_handleValue:function(t){this._buff=d(this._buff,t,this._max),this._buff.length>=this._min&&this._emitValue(this._buff)}},Ki=j("slidingWindow",Yi),Ri=U("slidingWindow",Yi),Gi={_init:function(t){var n=t.fn,i=t.flushOnEnd;this._fn=n,this._flushOnEnd=i,this._buff=[]},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&0!==this._buff.length&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(t){this._buff.push(t),(0,this._fn)(t)||this._flush()},_handleEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()}},Ji=j("bufferWhile",Gi),Xi=U("bufferWhile",Gi),Zi=function(t){return t},te={_init:function(t){var n=t.count,i=t.flushOnEnd;this._count=n,this._flushOnEnd=i,this._buff=[]},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&0!==this._buff.length&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(t){this._buff.push(t),this._buff.length>=this._count&&this._flush()},_handleEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()}},ne=j("bufferWithCount",te),ie=U("bufferWithCount",te),ee={_init:function(t){var n=this,i=t.wait,e=t.count,r=t.flushOnEnd;this._wait=i,this._count=e,this._flushOnEnd=r,this._intervalId=null,this._$onTick=function(){return n._flush()},this._buff=[]},_free:function(){this._$onTick=null,this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(t){this._buff.push(t),this._buff.length>=this._count&&(clearInterval(this._intervalId),this._flush(),this._intervalId=setInterval(this._$onTick,this._wait))},_handleEnd:function(){this._flushOnEnd&&0!==this._buff.length&&this._flush(),this._emitEnd()},_onActivation:function(){this._intervalId=setInterval(this._$onTick,this._wait),this._source.onAny(this._$handleAny)},_onDeactivation:function(){null!==this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null),this._source.offAny(this._$handleAny)}},re=j("bufferWithTimeOrCount",ee),ue=U("bufferWithTimeOrCount",ee),se={_init:function(t){var n=t.transducer;this._xform=n(kt(this))},_free:function(){this._xform=null},_handleValue:function(t){null!==this._xform["@@transducer/step"](null,t)&&this._xform["@@transducer/result"](null)},_handleEnd:function(){this._xform["@@transducer/result"](null)}},oe=j("transduce",se),ae=U("transduce",se),he={_init:function(t){var n=t.fn;this._handler=n,this._emitter=T(this)},_free:function(){this._handler=null,this._emitter=null},_handleAny:function(t){this._handler(this._emitter,t)}},le=j("withHandler",he),fe=U("withHandler",he),ce=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};r(Pt,y,{_name:"zip",_onActivation:function(){for(;this._isFull();)this._emit();var t=this._sources.length;this._aliveCount=t;for(var n=0;n<t&&this._active;n++)this._sources[n].onAny(this._$handlers[n])},_onDeactivation:function(){for(var t=0;t<this._sources.length;t++)this._sources[t].offAny(this._$handlers[t])},_emit:function(){for(var t=new Array(this._buffers.length),n=0;n<this._buffers.length;n++)t[n]=this._buffers[n].shift();var i=this._combinator;this._emitValue(i(t))},_isFull:function(){for(var t=0;t<this._buffers.length;t++)if(0===this._buffers[t].length)return!1;return!0},_handleAny:function(t,n){n.type===ln&&(this._buffers[t].push(n.value),this._isFull()&&this._emit()),n.type===fn&&this._emitError(n.value),n.type===hn&&0===--this._aliveCount&&this._emitEnd()},_clear:function(){y.prototype._clear.call(this),this._sources=null,this._buffers=null,this._combinator=null,this._$handlers=null}});var _e=function(t){return t};r(Ht,y,{_name:"abstractPool",_add:function(t,n){n=n||_e,this._concurLim===-1||this._curSources.length<this._concurLim?this._addToCur(n(t)):this._queueLim===-1||this._queue.length<this._queueLim?this._addToQueue(n(t)):"old"===this._drop&&(this._removeOldest(),this._add(t,n))},_addAll:function(t){var n=this;f(t,function(t){return n._add(t)})},_remove:function(t){this._removeCur(t)===-1&&this._removeQueue(t)},_addToQueue:function(t){this._queue=u(this._queue,[t])},_addToCur:function(t){if(this._active){if(!t._alive)return void(t._currentEvent&&this._emit(t._currentEvent.type,t._currentEvent.value));this._currentlyAdding=t,t.onAny(this._$handleSubAny),this._currentlyAdding=null,t._alive&&(this._curSources=u(this._curSources,[t]),this._active&&this._subToEnd(t))}else this._curSources=u(this._curSources,[t])},_subToEnd:function(t){var n=this,i=function(){return n._removeCur(t)};this._$endHandlers.push({obs:t,handler:i}),t.onEnd(i)},_subscribe:function(t){t.onAny(this._$handleSubAny),this._active&&this._subToEnd(t)},_unsubscribe:function(t){t.offAny(this._$handleSubAny);var n=o(this._$endHandlers,function(n){return n.obs===t});n!==-1&&(t.offEnd(this._$endHandlers[n].handler),this._$endHandlers.splice(n,1))},_handleSubAny:function(t){t.type===ln?this._emitValue(t.value):t.type===fn&&this._emitError(t.value)},_removeQueue:function(t){var n=s(this._queue,t);return this._queue=h(this._queue,n),n},_removeCur:function(t){this._active&&this._unsubscribe(t);var n=s(this._curSources,t);return this._curSources=h(this._curSources,n),n!==-1&&(0!==this._queue.length?this._pullQueue():0===this._curSources.length&&this._onEmpty()),n},_removeOldest:function(){this._removeCur(this._curSources[0])},_pullQueue:function(){0!==this._queue.length&&(this._queue=a(this._queue),this._addToCur(this._queue.shift()))},_onActivation:function(){for(var t=0,n=this._curSources;t<n.length&&this._active;t++)this._subscribe(n[t])},_onDeactivation:function(){for(var t=0,n=this._curSources;t<n.length;t++)this._unsubscribe(n[t]);null!==this._currentlyAdding&&this._unsubscribe(this._currentlyAdding)},_isEmpty:function(){return 0===this._curSources.length},_onEmpty:function(){},_clear:function(){y.prototype._clear.call(this),this._queue=null,this._curSources=null,this._$handleSubAny=null,this._$endHandlers=null}}),r(Dt,Ht,{_name:"merge",_onEmpty:function(){this._initialised&&this._emitEnd()}}),r(Wt,y,{_name:"repeat",_handleAny:function(t){t.type===hn?(this._source=null,this._getSource()):this._emit(t.type,t.value)},_getSource:function(){if(!this._inLoop){this._inLoop=!0;for(var t=this._generator;null===this._source&&this._alive&&this._active;)this._source=t(this._iteration++),this._source?this._source.onAny(this._$handleAny):this._emitEnd();this._inLoop=!1}},_onActivation:function(){this._source?this._source.onAny(this._$handleAny):this._getSource()},_onDeactivation:function(){this._source&&this._source.offAny(this._$handleAny)},_clear:function(){y.prototype._clear.call(this),this._generator=null,this._source=null,this._$handleAny=null}}),r(jt,Ht,{_name:"pool",plug:function(t){return this._add(t),this},unplug:function(t){return this._remove(t),this}}),r(Ut,Ht,{_onActivation:function(){Ht.prototype._onActivation.call(this),this._active&&this._source.onAny(this._$handleMain)},_onDeactivation:function(){Ht.prototype._onDeactivation.call(this),this._source.offAny(this._$handleMain),this._hadNoEvSinceDeact=!0},_handleMain:function(t){if(t.type===ln){this._activating&&this._hadNoEvSinceDeact&&this._lastCurrent===t.value||this._add(t.value,this._fn),this._lastCurrent=t.value,this._hadNoEvSinceDeact=!1}t.type===fn&&this._emitError(t.value),t.type===hn&&(this._isEmpty()?this._emitEnd():this._mainEnded=!0)},_onEmpty:function(){this._mainEnded&&this._emitEnd()},_clear:function(){Ht.prototype._clear.call(this),this._source=null,this._lastCurrent=null,this._$handleMain=null}}),r(Ft,Ut,{_handleMain:function(t){if(t.type===fn){this._activating&&this._hadNoEvSinceDeact&&this._lastCurrent===t.value||this._add(t.value,this._fn),this._lastCurrent=t.value,this._hadNoEvSinceDeact=!1}t.type===ln&&this._emitValue(t.value),t.type===hn&&(this._isEmpty()?this._emitEnd():this._mainEnded=!0)}});var de={_handlePrimaryValue:function(t){this._lastSecondary!==an&&this._lastSecondary&&this._emitValue(t)},_handleSecondaryEnd:function(){this._lastSecondary!==an&&this._lastSecondary||this._emitEnd()}},ve=Yt("filterBy",de),pe=Kt("filterBy",de),me=function(t,n){return n},ye={_handlePrimaryValue:function(t){this._lastSecondary!==an&&this._emitValue(t)},_handleSecondaryEnd:function(){this._lastSecondary===an&&this._emitEnd()}},be=Yt("skipUntilBy",ye),ge=Kt("skipUntilBy",ye),Ee={_handleSecondaryValue:function(){this._emitEnd()}},we=Yt("takeUntilBy",Ee),Ae=Kt("takeUntilBy",Ee),Se={_init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.flushOnEnd,i=void 0===n||n;this._buff=[],this._flushOnEnd=i},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handlePrimaryEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()},_onActivation:function(){this._primary.onAny(this._$handlePrimaryAny),this._alive&&null!==this._secondary&&this._secondary.onAny(this._$handleSecondaryAny)},_handlePrimaryValue:function(t){this._buff.push(t)},_handleSecondaryValue:function(){this._flush()},_handleSecondaryEnd:function(){this._flushOnEnd||this._emitEnd()}},Ve=Yt("bufferBy",Se),Te=Kt("bufferBy",Se),$e={_init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.flushOnEnd,i=void 0===n||n,e=t.flushOnChange,r=void 0!==e&&e;this._buff=[],this._flushOnEnd=i,this._flushOnChange=r},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handlePrimaryEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()},_handlePrimaryValue:function(t){this._buff.push(t),this._lastSecondary===an||this._lastSecondary||this._flush()},_handleSecondaryEnd:function(){this._flushOnEnd||this._lastSecondary!==an&&!this._lastSecondary||this._emitEnd()},_handleSecondaryValue:function(t){this._flushOnChange&&!t&&this._flush(),this._lastSecondary=t}},Ce=Yt("bufferWhileBy",$e),Oe=Kt("bufferWhileBy",$e),xe=function(){return!1},ke=function(){return!0},Ie={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleValue:function(t){var n=this._fn,i=n(t);i.convert?this._emitError(i.error):this._emitValue(t)}},Le=j("valuesToErrors",Ie),Pe=U("valuesToErrors",Ie),Me=function(t){return{convert:!0,error:t}},He={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleError:function(t){var n=this._fn,i=n(t);i.convert?this._emitValue(i.value):this._emitError(t)}},De=j("errorsToValues",He),Ne=U("errorsToValues",He),We=function(t){return{convert:!0,value:t}},qe={_handleError:function(t){this._emitError(t),this._emitEnd()}},Be=j("endOnError",qe),je=U("endOnError",qe);m.prototype.toProperty=function(t){return F(this,t)},m.prototype.changes=function(){return z(this)},m.prototype.toPromise=function(t){return K(this,t)},m.prototype.toESObservable=X,m.prototype[Cn]=X,m.prototype.map=function(t){return ut(this,t)},m.prototype.filter=function(t){return st(this,t)},m.prototype.take=function(t){return ot(this,t)},m.prototype.takeErrors=function(t){return at(this,t)},m.prototype.takeWhile=function(t){return ht(this,t)},m.prototype.last=function(){return lt(this)},m.prototype.skip=function(t){return ft(this,t)},m.prototype.skipWhile=function(t){return ct(this,t)},m.prototype.skipDuplicates=function(t){return _t(this,t)},m.prototype.diff=function(t,n){return vt(this,t,n)},m.prototype.scan=function(t,n){return pt(this,t,n)},m.prototype.flatten=function(t){return mt(this,t)},m.prototype.delay=function(t){return yt(this,t)},m.prototype.throttle=function(t,n){return bt(this,t,n)},m.prototype.debounce=function(t,n){return gt(this,t,n)},m.prototype.mapErrors=function(t){return Et(this,t)},m.prototype.filterErrors=function(t){return wt(this,t)},m.prototype.ignoreValues=function(){return At(this)},m.prototype.ignoreErrors=function(){return St(this)},m.prototype.ignoreEnd=function(){return Vt(this)},m.prototype.beforeEnd=function(t){return Tt(this,t)},m.prototype.slidingWindow=function(t,n){return $t(this,t,n)},m.prototype.bufferWhile=function(t,n){return Ct(this,t,n)},m.prototype.bufferWithCount=function(t,n){return Ot(this,t,n)},m.prototype.bufferWithTimeOrCount=function(t,n,i){return xt(this,t,n,i)},m.prototype.transduce=function(t){return It(this,t)},m.prototype.withHandler=function(t){return Lt(this,t)},m.prototype.combine=function(t,n){return rt([this,t],n)},m.prototype.zip=function(t,n){return Mt([this,t],n)},m.prototype.merge=function(t){return Nt([this,t])},m.prototype.concat=function(t){return Bt([this,t])};var Ue=function(){return new jt};m.prototype.flatMap=function(t){return new Ut(this,t).setName(this,"flatMap")},m.prototype.flatMapLatest=function(t){return new Ut(this,t,{concurLim:1,drop:"old"}).setName(this,"flatMapLatest")},m.prototype.flatMapFirst=function(t){return new Ut(this,t,{concurLim:1}).setName(this,"flatMapFirst")},m.prototype.flatMapConcat=function(t){return new Ut(this,t,{queueLim:-1,concurLim:1}).setName(this,"flatMapConcat")},m.prototype.flatMapConcurLimit=function(t,n){return new Ut(this,t,{queueLim:-1,concurLim:n}).setName(this,"flatMapConcurLimit")},m.prototype.flatMapErrors=function(t){return new Ft(this,t).setName(this,"flatMapErrors")},m.prototype.filterBy=function(t){return Rt(this,t)},m.prototype.sampledBy=function(t,n){return Gt(this,t,n)},m.prototype.skipUntilBy=function(t){return Jt(this,t)},m.prototype.takeUntilBy=function(t){return Xt(this,t)},m.prototype.bufferBy=function(t,n){return Zt(this,t,n)},m.prototype.bufferWhileBy=function(t,n){return tn(this,t,n)};var Fe=!0;m.prototype.awaiting=function(t){return on("You are using deprecated .awaiting() method, see https://github.com/rpominov/kefir/issues/145"),nn(this,t)},m.prototype.valuesToErrors=function(t){return on("You are using deprecated .valuesToErrors() method, see https://github.com/rpominov/kefir/issues/149"),en(this,t)},m.prototype.errorsToValues=function(t){return on("You are using deprecated .errorsToValues() method, see https://github.com/rpominov/kefir/issues/149"),rn(this,t)},m.prototype.endOnError=function(){return on("You are using deprecated .endOnError() method, see https://github.com/rpominov/kefir/issues/150"),un(this)};var ze={Observable:m,Stream:y,Property:b,never:g,later:w,interval:A,sequentially:S,fromPoll:V,withInterval:$,fromCallback:x,fromNodeCallback:k,fromEvents:M,stream:O,constant:D,constantError:W,fromPromise:Q,fromESObservable:G,combine:rt,zip:Mt,merge:Nt,concat:Bt,Pool:jt,pool:Ue,repeat:qt,staticLand:xn};ze.Kefir=ze,n.dissableDeprecationWarnings=sn,n.Kefir=ze,n.Observable=m,n.Stream=y,n.Property=b,n.never=g,n.later=w,n.interval=A,n.sequentially=S,n.fromPoll=V,n.withInterval=$,n.fromCallback=x,n.fromNodeCallback=k,n.fromEvents=M,n.stream=O,n.constant=D,n.constantError=W,n.fromPromise=Q,n.fromESObservable=G,n.combine=rt,n.zip=Mt,n.merge=Nt,n.concat=Bt,n.Pool=jt,n.pool=Ue,n.repeat=qt,n.staticLand=xn,n.default=ze,Object.defineProperty(n,"__esModule",{value:!0})})}).call(n,i(3))},function(t,n){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i}]);
//# sourceMappingURL=angular-bus.js.map